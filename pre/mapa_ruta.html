<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Mapa con Ruta y Instrucciones</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet">
    <style>
        body { margin: 0; padding: 0; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }
        #instructions { position: absolute; top: 10px; right: 10px; background: white; padding: 10px; z-index: 100; }
    </style>
</head>
<body>
<div id="map"></div>
<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiYWpidiIsImEiOiJjbHdmNTRscnoxbGgxMmlwYThqZDJmNmo2In0.Fxyr0FGk196DaN6v7Z71Zg';
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [1.725893050566688, 41.22429383462307], // Coordenadas del centro del mapa
        zoom: 12 // Nivel de zoom inicial
    });

    // Añadir una capa de ruta a partir de la geometría de la ruta
    const rutaGeoJSON = {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "LineString",
            "coordinates": [[1.725893050566688, 41.22429383462307], [1.726399, 41.2240246], [1.7264334, 41.2240357], [1.7264623, 41.2240437], [1.7270648, 41.2242102], [1.7270786, 41.224214], [1.727101, 41.2242198], [1.7272979, 41.2242708], [1.7271333, 41.2247391], [1.7277447, 41.2250114], [1.7277855, 41.2250355], [1.7277624, 41.2250538], [1.7277947, 41.2250716], [1.7283563, 41.2253797], [1.7283634, 41.2253741], [1.7285672, 41.2251705], [1.7285974, 41.2251561], [1.7288431, 41.2248464], [1.7290767, 41.2245358], [1.7295282, 41.2239118], [1.7299194, 41.2240292], [1.7299903, 41.2240505], [1.7300243, 41.2239863], [1.7304226, 41.2232396], [1.7304523, 41.2231796], [1.7303662, 41.2231558], [1.7298491, 41.2230098], [1.7294544, 41.2228927], [1.7293969, 41.2228753], [1.7293787, 41.2228698], [1.7286128, 41.2226378], [1.7285823, 41.2226278], [1.7284882, 41.2225955], [1.728423, 41.2225782], [1.7279827, 41.2224417], [1.7279552, 41.2224332], [1.7279593, 41.2224219], [1.7282639, 41.2215723], [1.7282656, 41.2215668], [1.7282726, 41.2215445], [1.7282918, 41.2214931], [1.7282019, 41.2214671], [1.7279503, 41.2213932], [1.7279073, 41.2213812], [1.7277914, 41.2213441], [1.7276732, 41.2213095], [1.7276401, 41.2213012], [1.7271548, 41.2211513], [1.7268176, 41.2210543], [1.7267064, 41.221019], [1.7266215, 41.2209931], [1.7266116, 41.2209903], [1.7265209, 41.2209646], [1.7263344, 41.220912], [1.7258702, 41.2207737], [1.7257779, 41.2207456], [1.7256862, 41.2207154], [1.7256408, 41.2207041], [1.7250374, 41.2205282], [1.7245283, 41.2203744], [1.7244679, 41.2203557], [1.7243532, 41.220324], [1.7242947, 41.2203015], [1.7241895, 41.2202721], [1.7241557, 41.2202618], [1.7233198, 41.220016], [1.7232557, 41.2199975], [1.723241, 41.2199926], [1.723225, 41.2199882], [1.722927, 41.2198995], [1.7225891, 41.2198002], [1.7225491, 41.2197835], [1.7225165, 41.2197764], [1.7224159, 41.2197526], [1.7222696, 41.2197072], [1.7222467, 41.2197004], [1.7219626, 41.2196211], [1.7217848, 41.2195782], [1.721642, 41.2195855], [1.7215404, 41.2195993], [1.7214979, 41.2196276], [1.7214459, 41.2196447], [1.7213895, 41.2196491], [1.7213339, 41.2196403], [1.7212846, 41.2196192], [1.7212696, 41.2196091], [1.7211351, 41.2195905], [1.7210399, 41.2195725], [1.7209673, 41.2195827], [1.7209309, 41.2195878], [1.7209011, 41.219592], [1.7208705, 41.2195963], [1.7208199, 41.2196027], [1.7206596, 41.2196275], [1.7203359, 41.21968], [1.7198669, 41.2197537], [1.719678, 41.2197715], [1.7196032, 41.2197771], [1.7195323, 41.2197817], [1.7194241, 41.2197812], [1.7193321, 41.2197746], [1.7190458, 41.2197511], [1.7187715, 41.2197017], [1.7187069, 41.2196852], [1.7186479, 41.2196711], [1.7185184, 41.2196364], [1.7184828, 41.2196253], [1.7182609, 41.219562], [1.7180113, 41.2194876], [1.7177912, 41.2194219], [1.7174325, 41.2193158], [1.7174032, 41.2193055], [1.7173624, 41.2192955], [1.7173385, 41.219287], [1.7172222, 41.2192531], [1.7169694, 41.219172], [1.7166502, 41.219079], [1.7166335, 41.2190741], [1.7165681, 41.219055], [1.7164748, 41.2190278], [1.7162284, 41.218956], [1.7161616, 41.2189365], [1.7161393, 41.2189292], [1.7161256, 41.2189244], [1.7161179, 41.218922], [1.7159429, 41.2188674], [1.7159202, 41.2188608], [1.7159026, 41.2188556], [1.7158755, 41.2188477], [1.7158162, 41.2188304], [1.7153002, 41.2186798], [1.7148122, 41.2185373], [1.7147157, 41.2185091], [1.7146391, 41.2184864], [1.7144702, 41.2184362], [1.714268, 41.2183762], [1.7141435, 41.2183392], [1.7140069, 41.2182987], [1.7137875, 41.2182335], [1.7136115, 41.218179], [1.7135708, 41.2181796], [1.7135553, 41.2181751], [1.7135168, 41.218164], [1.713417, 41.2181556], [1.7133323, 41.2181603], [1.7132849, 41.218186], [1.7131904, 41.2181926], [1.7131738, 41.2181907], [1.7131384, 41.2181841], [1.7130857, 41.2181517], [1.7130425, 41.2181148], [1.7130325, 41.2180893], [1.7129651, 41.2180306], [1.7129165, 41.2179979], [1.7128956, 41.2179838], [1.7128794, 41.2179739], [1.7128247, 41.2179568], [1.7127775, 41.217942], [1.7127797, 41.2179241], [1.7127597, 41.2179187], [1.7127321, 41.217908], [1.7123386, 41.2177357], [1.7122976, 41.2177158], [1.7122752, 41.2177049], [1.7122225, 41.2176792], [1.7121459, 41.2176419], [1.7119697, 41.2175439], [1.7119267, 41.2175202], [1.7118998, 41.2175102], [1.7118642, 41.2175082], [1.7118, 41.2174743], [1.7117654, 41.2174561], [1.7117093, 41.2174265], [1.71171, 41.2174099], [1.7116985, 41.2174035], [1.711658, 41.217379], [1.7114369, 41.21726], [1.7106988, 41.2168577], [1.7104014, 41.2166957], [1.7101503, 41.2165612], [1.7101255, 41.2165489], [1.7101025, 41.2165359], [1.7095803, 41.2162521], [1.7092107, 41.2160599], [1.7090725, 41.2159871], [1.7090028, 41.21595], [1.7087873, 41.2158351], [1.7087171, 41.215795], [1.7085616, 41.2157158], [1.708424, 41.2156408], [1.7080283, 41.2154163], [1.7079248, 41.2153599], [1.7078898, 41.2153408], [1.7077681, 41.215275], [1.7073838, 41.2150617], [1.7072054, 41.2149391], [1.7071458, 41.2148963], [1.7071141, 41.2148654], [1.7070096, 41.2147449], [1.7069285, 41.2145851], [1.7068724, 41.2144081], [1.7068343, 41.214014], [1.7068333, 41.2139937], [1.7068302, 41.2139543], [1.7068053, 41.2136343], [1.7067832, 41.2133593], [1.7067763, 41.2132407], [1.7067756, 41.2132282], [1.706772, 41.213165], [1.7067619, 41.2130535], [1.7066958, 41.2123239], [1.7066597, 41.2118661], [1.7066382, 41.2117153], [1.7065837, 41.2115938], [1.7065217, 41.2115248], [1.7064997, 41.211506], [1.7063934, 41.2114262], [1.7063281, 41.2113944], [1.706299, 41.2113803], [1.7062728, 41.2113675], [1.7061276, 41.2113287], [1.7058997, 41.211301], [1.7044841, 41.2111813], [1.7042767, 41.2111592], [1.7041936, 41.2111569], [1.703947, 41.2111368], [1.703763, 41.2111215], [1.7035892, 41.2111049], [1.7034245, 41.2110865], [1.7032666, 41.211072], [1.7032061, 41.2110693], [1.7031884, 41.2110677], [1.7029754, 41.211049], [1.7028709, 41.2110396], [1.7027041, 41.2110241], [1.7026725, 41.2110207], [1.7026345, 41.211017], [1.7025829, 41.2110125], [1.7021788, 41.2109763], [1.7018971, 41.210952], [1.7017808, 41.210942], [1.7016179, 41.2109265], [1.7014466, 41.2109134], [1.7012815, 41.2109014], [1.7010871, 41.2108833], [1.7008516, 41.2108615], [1.697715, 41.210585], [1.6967678, 41.2105058], [1.6965189, 41.2104825], [1.6960298, 41.2104387], [1.6945862, 41.2103098], [1.6944227, 41.2102953], [1.6944016, 41.2102935], [1.6943849, 41.210292], [1.6942943, 41.210284], [1.6942339, 41.2102787], [1.6931759, 41.2101853], [1.6922558, 41.2101072], [1.6912857, 41.2100168], [1.6898829, 41.2097572], [1.6886887, 41.2095212], [1.6884752, 41.2094812], [1.6883603, 41.209459], [1.6881166, 41.2094105], [1.6879252, 41.2093738], [1.6877738, 41.209345], [1.6876665, 41.2093253], [1.6876067, 41.2093136], [1.6875852, 41.2093084], [1.6874924, 41.2092901], [1.6874396, 41.2092822], [1.6869361, 41.2091813], [1.6869008, 41.2091763], [1.6868298, 41.2091642], [1.686699, 41.2091369], [1.6866825, 41.2090907], [1.6866712, 41.2090395], [1.6866641, 41.2089831], [1.6866538, 41.2089372], [1.6866563, 41.2088936], [1.68685, 41.208022], [1.6868725, 41.207905], [1.6869427, 41.2077817], [1.687008, 41.207667], [1.6872329, 41.2070949], [1.6873475, 41.2068035], [1.6874744, 41.2064514], [1.687533, 41.2062986], [1.6876084, 41.2060441], [1.6876234, 41.2057988], [1.6876179, 41.2056245], [1.6875753, 41.2055073], [1.6875456, 41.2054256], [1.6874849, 41.2053662], [1.6874234, 41.2053459], [1.6857411, 41.2046482], [1.6854447, 41.2050562], [1.6854284, 41.2050711], [1.6854081, 41.2051062], [1.6854045, 41.2051339], [1.6853677, 41.205195], [1.685239, 41.2052468], [1.6848258, 41.2058619], [1.684095, 41.2056955], [1.6834086, 41.2055484], [1.6833191, 41.2055292], [1.6825516, 41.205378], [1.682025, 41.2052588], [1.6818341, 41.205218], [1.6820357, 41.2049411], [1.6826816, 41.2040542], [1.6827083, 41.2040175], [1.6826504, 41.2039889], [1.6824014, 41.2038659], [1.6827096, 41.2034175], [1.6827722, 41.2033161], [1.6835226174276277, 41.2027329270363]]
        }
    };

    map.on('load', function () {
        // Añadir la ruta
        map.addLayer({
            "id": "ruta",
            "type": "line",
            "source": {
                "type": "geojson",
                "data": rutaGeoJSON
            },
            "layout": {
                "line-join": "round",
                "line-cap": "round"
            },
            "paint": {
                "line-color": "#ff0000",
                "line-width": 5
            }
        });

        // Añadir marca de inicio
        new mapboxgl.Marker({ color: 'green' })
            .setLngLat([1.725893050566688, 41.22429383462307])
            .addTo(map);

        // Añadir marca de fin
        new mapboxgl.Marker({ color: 'red' })
            .setLngLat([1.6835226174276277, 41.2027329270363])
            .addTo(map);
    });
</script>
</body>
</html>